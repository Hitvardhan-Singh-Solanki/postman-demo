(this.webpackJsonppostman_app=this.webpackJsonppostman_app||[]).push([[0],{227:function(e,t,n){e.exports=n.p+"static/media/loader.907a8504.svg"},249:function(e,t,n){e.exports=n(446)},284:function(e,t){},445:function(e,t,n){},446:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(48),i=n.n(c),o=n(17),u=n(36),l=n(44),s=n(15),m=n(16);function f(){var e=Object(s.a)(["\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  justify-content: center;\n  background-size: cover;\n  background-color: #212121;\n  color: white;\n  background-repeat: no-repeat;\n  background-position: center;\n"]);return f=function(){return e},e}var p=m.a.div(f()),d=function(e){return r.a.createElement(p,null,e.children)},g=n(237),b=n(458),h=n(218),v=n.n(h);function E(){var e=Object(s.a)(["\n  color: #b93131eb;\n  font-size: 60px;\n  line-height: 1.1;\n"]);return E=function(){return e},e}var j=m.a.div(E()),O=function(e){var t=e.message;return r.a.createElement(j,null,t)},x=n(457);function w(){var e=Object(s.a)(["\n    height: 200px;\n    border-radius: 3px;\n  "]);return w=function(){return e},e}function y(){var e=Object(s.a)(["\n    display: flex;\n    flex-flow: column;\n    justify-content: center;\n    align-items: center;\n  "]);return y=function(){return e},e}function S(){var e=Object(s.a)(["\n    display: flex;\n    flex-flow: column;\n    align-items: center;\n    justify-content: center;\n    width: min-content;\n    & > img {\n      border: 2px solid;\n      border-radius: 50%;\n      clip-path: circle(50%);\n      height: ",";\n      transform: ",";\n      transition: ",";\n      ","\n    }\n  "]);return S=function(){return e},e}var k=function(e){var t=e.image,n=e.userName,a=e.imgSize,c=void 0===a?"80px":a,i=e.shoudlTransform,o=void 0===i||i,u=m.a.div(S(),c,o?"translateY(5px)":"none",o?"transform 0.1s ease-in-out":"none",o&&"&:hover {\n        transform: translateY(-1px);\n      }"),l=Object(m.a)(x.a)(y()),s=m.a.img(w()),f=function(e){return r.a.createElement(s,{src:e,alt:"avatar"})};return r.a.createElement(u,null,r.a.createElement(l,{trigger:f(t)},r.a.createElement("div",null,f(t)),r.a.createElement("h3",null,"UserName: ",n)))};function C(){var e=Object(s.a)(["\n  display: flex;\n  margin-bottom: 20px;\n"]);return C=function(){return e},e}var F=m.a.div(C()),A=function(e){var t=e.users,n=void 0===t?[]:t;return r.a.createElement(F,null,n.map((function(e){var t=e.email,n=e.image,a=e._id;return r.a.createElement(k,{userName:t,image:n,key:a})})))},I=n(66),U=n(27),L=n.n(U);function z(){var e=Object(s.a)(["\n  list-style: none;\n  margin: 0;\n  font-size: 20px;\n  line-height: 1.5;\n"]);return z=function(){return e},e}function T(){var e=Object(s.a)(["\n  float: right;\n  padding: 20px;\n  clip-path: circle(40%);\n  background-color: #fff;\n  &:hover {\n    transform: translateY(-5px);\n  }\n"]);return T=function(){return e},e}function _(){var e=Object(s.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n"]);return _=function(){return e},e}function N(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100vh;\n  position: absolute;\n  z-index: 999;\n  background-color: rgba(255, 255, 255, 0.9);\n  color: #000;\n"]);return N=function(){return e},e}var D=m.a.div(N()),P=m.a.div(_()),V=m.a.div(T()),J=m.a.ul(z()),R=function(e){var t=e.closeVisitedUser,n=Object(a.useState)([]),c=Object(o.a)(n,2),i=c[0],u=c[1];return Object(a.useEffect)((function(){L.a.get("/api/auth/history").then((function(e){var t=e.data;200===e.status&&u(t)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement(D,null,r.a.createElement(V,{onClick:t},r.a.createElement(I.a,{name:"close",size:"huge"})),r.a.createElement(P,null,r.a.createElement("h3",null,"Visited Users"),r.a.createElement(J,null,i.map((function(e){var t=e.email,n=e._id,a=e.time;return r.a.createElement("li",{key:n},"[",a,"]: ",t)})))))};function Y(){var e=Object(s.a)(["\n  height: 100%;\n  width: 100%;\n  margin-top: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n"]);return Y=function(){return e},e}var M=m.a.div(Y()),B=function(e){var t=e.isAuthenticated,n=e.currentLoggerInUser,c={},i=Object(a.useState)({}),u=Object(o.a)(i,2),l=(u[0],u[1]),s=Object(a.useState)([]),m=Object(o.a)(s,2),f=m[0],p=m[1],d=Object(a.useState)(!1),h=Object(o.a)(d,2),E=h[0],j=h[1];Object(a.useEffect)((function(){return t&&((c=v()("/")).emit("join",Object(g.a)({},n)),c.on("joined",(function(e){alert(e.text)}))),function(){c.emit&&c.disconnect()}}),[]),Object(a.useEffect)((function(){c.on&&(c.on("USER_JOINED",(function(e){l(e)})),c.on("ROOM_DATA",(function(e){var t=e.users;p(t)})),c.on("USER_LEFT",(function(e){})))}),[c]);return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null,r.a.createElement(A,{users:f}),r.a.createElement(b.a,{onClick:function(e){e.preventDefault(),j(!0)}},"Show Visitors")),E&&r.a.createElement(R,{closeVisitedUser:function(e){j(!1)}})):r.a.createElement(O,{message:"Oops... are you lost?"})},H=n(65),q=n.n(H),G=n(97),K=n(455),Q=n(227),W=n.n(Q),X=function(){return r.a.createElement("img",{src:W.a})};function Z(){var e=Object(s.a)(["\n  font-size: 20px !important;\n  color: #fff !important;\n  margin-bottom: 20px !important;\n  text-align: left;\n"]);return Z=function(){return e},e}function $(){var e=Object(s.a)(["\n  width: 100%;\n  margin-top: 20px !important;\n  max-width: 250px;\n"]);return $=function(){return e},e}L.a.defaults.withCredentials="include";var ee=Object(m.a)(b.a)($()),te=m.a.label(Z()),ne=Object(l.g)((function(e){var t=e.history,n=e.setIsAuthenticated,c=(e.isAuthenticated,e.setCurrentLoggerInUser),i=Object(a.useState)(""),u=Object(o.a)(i,2),l=u[0],s=u[1],m=Object(a.useState)(""),f=Object(o.a)(m,2),p=f[0],d=f[1],g=Object(a.useState)(!1),b=Object(o.a)(g,2),h=b[0],v=b[1],E=Object(a.useState)(!1),j=Object(o.a)(E,2),x=j[0],w=j[1],y=Object(a.useState)(""),S=Object(o.a)(y,2),k=S[0],C=S[1],F=function(){var e=Object(G.a)(q.a.mark((function e(){var a,r,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,L.a.post("/api/auth/login",{email:l,password:p});case 4:if(200!==(a=e.sent).status){e.next=12;break}n(!0),c(a.data),w(!1),t.push("/doc"),e.next=13;break;case 12:throw new O(a.status);case 13:e.next=24;break;case 15:e.prev=15,e.t0=e.catch(1),r=e.t0.message,i=e.t0.response,o=i?i.data.error:r,v(!0),w(!1),C("".concat(o,": please try again.")),setTimeout((function(){v(!1),C("")}),2500);case 24:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,h?r.a.createElement(O,{message:k}):x?r.a.createElement(X,null):r.a.createElement(K.a,{onSubmit:F},r.a.createElement(K.a.Field,null,r.a.createElement(te,{htmlFor:"email"},"Email Address"),r.a.createElement("input",{placeholder:"",value:l,id:"email",onChange:function(e){s(e.target.value)}})),r.a.createElement(K.a.Field,null,r.a.createElement(te,{htmlFor:"password"},"Password"),r.a.createElement("input",{placeholder:"",id:"password",type:"password",value:p,onChange:function(e){d(e.target.value)}})),r.a.createElement(ee,{type:"submit",primary:!0,disabled:p.length<3||l.length<3},"Submit")))}));function ae(){var e=Object(s.a)(["\n  font-size: 20px !important;\n  color: #fff !important;\n  margin-bottom: 20px !important;\n  text-align: left;\n"]);return ae=function(){return e},e}function re(){var e=Object(s.a)(["\n  width: 100%;\n  margin-top: 20px !important;\n  max-width: 250px;\n"]);return re=function(){return e},e}var ce=Object(m.a)(b.a)(re()),ie=m.a.label(ae()),oe=Object(l.g)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(o.a)(n,2),i=c[0],u=c[1],l=Object(a.useState)(""),s=Object(o.a)(l,2),m=s[0],f=s[1],p=Object(a.useState)(""),d=Object(o.a)(p,2),g=d[0],b=d[1],h=Object(a.useState)(!1),v=Object(o.a)(h,2),E=v[0],j=v[1],x=Object(a.useState)(!1),w=Object(o.a)(x,2),y=w[0],S=w[1],k=Object(a.useState)(""),C=Object(o.a)(k,2),F=C[0],A=C[1],I=function(){var e=Object(G.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m===g){e.next=4;break}return A("Password do not match"),setTimeout((function(){S(!1),A("")}),2500),e.abrupt("return",S(!0));case 4:return e.prev=4,j(!0),e.next=8,L.a.post("/api/auth/signup",{email:i,password:m});case 8:n=e.sent,200===n.status&&t.push("/login"),j(!1),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(4),S(!0),j(!1),A("".concat(e.t0.message,": please try again.")),setTimeout((function(){S(!1),A("")}),2500);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}();return y?r.a.createElement(O,{message:F}):E?r.a.createElement(X,null):r.a.createElement(K.a,{onSubmit:I},r.a.createElement(K.a.Field,null,r.a.createElement(ie,{htmlFor:"email"},"Email Address"),r.a.createElement("input",{placeholder:"",value:i,id:"email",onChange:function(e){u(e.target.value)}})),r.a.createElement(K.a.Field,null,r.a.createElement(ie,{htmlFor:"password"},"Password"),r.a.createElement("input",{placeholder:"",id:"password",type:"password",value:m,onChange:function(e){f(e.target.value)}})),r.a.createElement(K.a.Field,null,r.a.createElement(ie,{htmlFor:"confirm-password"},"Confirm Password"),r.a.createElement("input",{placeholder:"",id:"confirm-password",type:"password",value:g,onChange:function(e){b(e.target.value)}})),r.a.createElement(ce,{type:"submit",primary:!0,disabled:m.length<3||i.length<3||g.length!==m.length},"Submit"))}));function ue(){var e=Object(s.a)(["\n  margin-left: 20px;\n  cursor: pointer;\n  :hover {\n    color: orangered;\n  }\n"]);return ue=function(){return e},e}function le(){var e=Object(s.a)(["\n  display: flex;\n  list-style: none;\n  padding: 10px;\n  flex: 1;\n"]);return le=function(){return e},e}function se(){var e=Object(s.a)(["\n  background-color: rgba(0, 0, 0, 0.2);\n  position: fixed;\n  width: 100%;\n  color: white;\n  font-size: 16px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  margin-right: 20px !important;\n  & div {\n    margin: 0 20px;\n  }\n"]);return se=function(){return e},e}var me=m.a.div(se()),fe=m.a.ul(le()),pe=m.a.li(ue()),de=Object(l.g)((function(e){var t=e.isAuthenticated,n=e.setIsAuthenticated,a=e.history,c=e.setCurrentLoggerInUser,i=e.currentLoggerInUser;return r.a.createElement(me,null,r.a.createElement(fe,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{onClick:function(){L.a.get("/api/auth/logout",{withCredentials:!0}).then((function(){n(!1),c({}),a.push("/login")}))}},"Logout"),r.a.createElement(pe,null,r.a.createElement(u.b,{to:"/doc"},"Doc"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null,r.a.createElement(u.b,{to:"/login"},"Login")),r.a.createElement(pe,null,r.a.createElement(u.b,{to:"/sign-up"},"Sign up")))),t&&r.a.createElement(k,{dontHover:!0,userName:i.email,image:i.image,imgSize:"40px",shoudlTransform:!1}))}));function ge(){var e=Object(s.a)(["\n  min-width: 40vw;\n  text-align: center;\n  @media (max-width: 768px) {\n    width: 80vw;\n  }\n"]);return ge=function(){return e},e}var be=m.a.div(ge()),he=function(e){var t=e.children;return r.a.createElement(be,null,t)};var ve=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),m=s[0],f=s[1],p=Object(a.useState)({}),g=Object(o.a)(p,2),b=g[0],h=g[1];return Object(a.useEffect)((function(){f(!0),L.a.get("/api/auth/check-token").then((function(e){200===e.status?(c(!0),h(e.data)):c(!1)})).catch((function(e){console.log(e)})).finally((function(){f(!1)}))}),[]),r.a.createElement(u.a,null,r.a.createElement(de,{isAuthenticated:n,setIsAuthenticated:c,setCurrentLoggerInUser:h,currentLoggerInUser:b}),r.a.createElement(d,null,m?r.a.createElement(X,null):r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",exact:!0},r.a.createElement(l.a,{to:"/login"})),r.a.createElement(l.b,{path:"/login"},r.a.createElement(he,null,r.a.createElement(ne,{setCurrentLoggerInUser:h,setIsAuthenticated:c,isAuthenticated:n}))),r.a.createElement(l.b,{path:"/sign-up"},r.a.createElement(he,null,r.a.createElement(oe,null))),r.a.createElement(l.b,{path:"/doc"},r.a.createElement(B,{isAuthenticated:n,currentLoggerInUser:b})))))};n(445);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root"))}},[[249,1,2]]]);
//# sourceMappingURL=main.c566e306.chunk.js.map